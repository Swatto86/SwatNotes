<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Note</title>
    <link rel="stylesheet" href="/src/styles/main.css" />
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.snow.css" rel="stylesheet" />
    <style>
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
      }
      #sticky-note-container {
        display: flex;
        flex-direction: column;
        height: 100vh;
      }
      #sticky-note-editor {
        flex: 1;
        overflow-y: auto;
        padding: 0.75rem;
      }
      /* Quill editor adjustments for sticky notes */
      .ql-container {
        font-size: 0.95rem;
        min-height: 100px;
        border: none;
      }
      .ql-editor {
        padding: 0.75rem;
      }
      .ql-toolbar {
        border: none;
        border-bottom: 1px solid oklch(var(--bc) / 0.2);
        background: oklch(var(--b2));
      }
    </style>
  </head>
  <body class="bg-base-100">
    <div id="sticky-note-container" class="bg-base-100">
      <!-- Header with editable title -->
      <div class="bg-base-200 border-b border-base-300 p-3 flex justify-between items-center gap-2">
        <input
          id="sticky-note-title"
          type="text"
          class="flex-1 text-sm font-semibold bg-transparent border-none outline-none text-base-content focus:bg-base-100 px-2 py-1 rounded"
          placeholder="Untitled"
          value="Loading..."
        />
        <button class="btn btn-ghost btn-sm btn-circle" id="close-btn" title="Close">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>

      <!-- Editor -->
      <div id="sticky-note-editor" class="bg-base-100"></div>

      <!-- Toolbar -->
      <div class="bg-base-200 border-t border-base-300 p-2 flex gap-2 justify-between items-center">
        <button class="btn btn-error btn-sm" id="delete-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="3 6 5 6 21 6"></polyline>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
          </svg>
          Delete
        </button>
        <span class="text-xs text-base-content/50" id="save-status">Auto-saving...</span>
      </div>
    </div>

    <script type="module" src="/src/sticky-note.js"></script>
  </body>
</html>
