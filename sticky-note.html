<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Note</title>
    <link rel="stylesheet" href="/src/styles/main.css" />
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.snow.css" rel="stylesheet" />
    <style>
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
      }
      #sticky-note-container {
        display: flex;
        flex-direction: column;
        height: 100vh;
      }
      #sticky-note-editor {
        flex: 1;
        overflow-y: auto;
        padding: 0.75rem;
      }
      /* Quill editor adjustments for sticky notes */
      .ql-container {
        font-size: 0.95rem;
        min-height: 100px;
        border: none;
      }
      .ql-editor {
        padding: 0.75rem;
        /* Use theme colors for text */
        color: oklch(var(--bc));
      }
      /* Center placeholder text */
      .ql-editor.ql-blank::before {
        color: oklch(var(--bc) / 0.4);
        font-style: normal;
        text-align: center;
        display: block;
        padding-top: 2rem;
      }
      .ql-toolbar {
        border: none;
        border-bottom: 1px solid oklch(var(--bc) / 0.2);
        background: oklch(var(--b2));
        /* Make toolbar draggable for frameless window */
        cursor: move;
      }
      /* Prevent dragging when over toolbar buttons */
      .ql-toolbar button,
      .ql-toolbar .ql-picker {
        cursor: pointer;
      }
      /* Ensure toolbar buttons use theme colors */
      .ql-toolbar button {
        color: oklch(var(--bc));
      }
      .ql-toolbar button:hover {
        color: oklch(var(--p));
      }
      .ql-toolbar .ql-stroke {
        stroke: oklch(var(--bc));
      }
      .ql-toolbar .ql-fill {
        fill: oklch(var(--bc));
      }
      .ql-toolbar button:hover .ql-stroke {
        stroke: oklch(var(--p));
      }
      .ql-toolbar button:hover .ql-fill {
        fill: oklch(var(--p));
      }
      .ql-toolbar button.ql-active .ql-stroke {
        stroke: oklch(var(--p));
      }
      .ql-toolbar button.ql-active .ql-fill {
        fill: oklch(var(--p));
      }
    </style>
  </head>
  <body class="bg-base-100">
    <div id="sticky-note-container" class="bg-base-100">
      <!-- Toolbar at top with formatting and delete -->
      <div id="sticky-note-editor" class="bg-base-100"></div>

      <!-- Bottom bar with delete and save status -->
      <div class="bg-base-200 border-t border-base-300 p-2 flex gap-2 justify-between items-center">
        <button class="btn btn-error btn-sm" id="delete-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="3 6 5 6 21 6"></polyline>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
          </svg>
          Delete
        </button>
        <span class="text-xs text-base-content/50" id="save-status">Auto-saving...</span>
      </div>
    </div>

    <script type="module" src="/src/sticky-note.js"></script>
  </body>
</html>
